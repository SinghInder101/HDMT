<app-navbar></app-navbar>
<div id="wrapper">
<app-sidebar></app-sidebar>

<div class="container-fluid" >
    <div class="row pt-2 d-flex justify-content-between">
        <div class="col-md-4 mt-4 ">
            <div class="input-group mt-5">
            </div>
            <form class="form-inline">
            <div class="input-group">
                <input type="text" class="form-control " id="search" (keyup) ="valueChange($event)" placeholder="Search Here" aria-label="Recipient's username" aria-describedby="basic-addon2">
              
                <span class="input-group-btn"><button type="submit" style="background-color: rgb(232, 20, 16);" class="btn btn-danger search-btn" data-target="#search-form" name="q"><i class="fa fa-search"><!--FONT AWESOME font @ "http://fortawesome.github.io/Font-Awesome/" --></i>
                </button></span>
              </div>
            </form>
        </div>
          <div class="col-md-2 mt-4  ">
            <div class="input-group mt-5">
            </div>
          <button class="btn btn-primary" type="button" class="btn btn-danger" style="background-color: rgb(232, 20, 16);" routerLink = "/create_hiring_drive" >
             <b> Create Hiring Drive </b> </button>
      </div>
       
        
</div>


<div class="row mt-5">
    <div class="col-xs-12">
      <div class="table-responsive">
    <table class="table table-sm table-hover" *ngIf="!loading" >
        <thead>
          <tr>
            <th style="border-top-left-radius: 10px; padding-left: 10px"  scope="col">Hiring Drive Title</th>
            <th scope="col">Dates</th>
            <th scope="col">Admin</th>
            <th scope="col">Contact Person</th>
            <th style="border-top-right-radius: 10px" scope="col">Action</th>
          </tr>
        </thead>
        <tbody >
          <tr *ngFor = "let drive of drives; let i = index">
            <th scope="row" style="padding-left: 10px">{{drive.drive_title}}</th>
            <td>

             <span *ngFor = "let event of drive.events; let j = index">{{event.date}} <br> </span> 
                

            </td>
            
            <td>
              <span *ngFor = "let driveAdmins of drive.drive_admins">
                {{driveAdmins}} <br>
              </span>
          </td>
            <td>
              <span *ngFor = "let contactPersons of drive.contact_person">
                {{contactPersons.name}} +91 {{contactPersons.phone_number}}
                <br>
              </span>
            </td>
                <td>
                  
                    <a class="link" (click)="editHiringDrive(drive.drive_id)">Edit &nbsp;|</a>

                    <a class="link" (click) = "manageHiringDrive(drive.drive_id + '#' + drive.drive_title)">&nbsp; Manage</a>
                  
                </td>
          </tr>
         
        </tbody>
      </table>
      <app-loader *ngIf="loading" ></app-loader>
    </div>
    </div>
</div>
<div class="row d-flex justify-content-end">
    <div class="col-xs-6 d-flex justify-content-end pagination">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item" [attr.class] = "currentPage == 1 ? ' page-item disabled': 'page-item'"><a class="page-link" (click) = "counter(0)">Previous</a></li>
             
              <li class="page-item" [attr.class] = "currentPage == totalPages ? 'page-item disabled': 'page-item'"><a class="page-link" (click) = "counter(1)">Next</a></li>
            </ul>
          </nav>
    </div>
    
    <!-- Button trigger modal -->

  <!-- Modal -->
  
</div>
</div>


</div>
